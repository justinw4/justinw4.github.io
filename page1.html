<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="main.css" />
        <script src = "d3.min.js"></script>
    </head>
    <body>
        <!-- Navigation Bar -->
        <div class="navbar">
            <div class="container">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="page1.html">Page 1</a></li>
                    <li><a href="page2.html">Page 2</a></li>
                    <li><a href="page3.html">Page 3</a></li>
                </ul>
            </div>
        </div>

        <!-- Webpage Content -->
        <div class="sections">
            <div id="chart" class="chart">
                <body onload="init()">
                    <svg width=1000 height=600></svg>
                    <script>
                        async function init() {
                            // Initialize variables
                            var margin = 80;
                            var width = 1000 - (2 * margin);
                            var height = 600 - (2 * margin); 
                            
                            console.log("Start v1.29");

                            // Setup the data
                            const data = d3.csv("HomerunStats.csv", function(d) { return { date : d.Year, value: d.Total }; }); 
                            
                            var svg = d3.select("div#chart").append("svg").attr("width", width).attr("height", height).attr("transform","translate("+margin+","+margin+")"); 

                            var x = d3.scaleTime().domain(d3.extent(data, function(d) { return d.Year; })).range([0,width]);
                            var y = d3.scaleLinear().domain([0, d3.max(data, function(d) { return +d.value; })]).range([height,0]); 

                            // Set up the Axis
                            // var xAxis = d3.axisBottom(x).tickValues([1985, 1990, 1995, 2000, 2005, 2010, 2015, 2020]).tickFormat(d3.format("~s"));
                            // var yAxis = d3.axisLeft(y).tickValues([1000, 2000, 3000, 4000, 5000, 6000, 7000]).tickFormat(d3.format("~s")); 
                            d3.select("svg").append("g")
                                .attr("class", "axis")
                                .attr("transform","translate("+margin+","+(height+margin)+")")
                                .call(x); 

                            d3.select("svg").append("g")
                                .attr("class", "axis")
                                .attr("transform","translate("+margin+","+margin+")")
                                .call(y); 

                            // Set up the Lines
                            // const lineAL = d3.line().x(function(d) { return x(d.Year); }).y(function(d) { return y(d.AmericanLeague); }); 
                            // const lineNL = d3.line().x(function(d) { return x(d.Year); }).y(function(d) { return y(d.NationalLeague); });
                            // const lineTotal = d3.line().x(function(d) { return x(d.Year); }).y(function(d) { return y(d.Total); });

                            // Draw the Lines
                            // svg.append("line").datum(data).attr("fill", "none").attr("stroke","red").attr("stroke-width", 1.5).attr("d", function() { return lineAL; });
                            // svg.append("line").datum(data).attr("fill", "none").attr("stroke","blue").attr("stroke-width", 1.5).attr("d", function() { return lineNL; });
                            svg.append("line").datum(data).attr("fill", "none").attr("stroke","black").attr("stroke-width", 1.5)
                                .attr("d", function() { return d3.line().x(function(d) { return x(d.Year); }).y(function(d) { return y(d.Total); }); });

                            console.log("Done v1.29");
                        }
                    </script>
                </body>
            </div>

            <div class="annotation">
                <h1>Homeruns</h1>
                <p>Throughout the past 35 years of baseball, there have been two distinct maximums when it comes to homeruns hit in a season. 
                    One of these took place during an era of steroid use, where athletes using performance enhancing drugs to improve their strength. 
                    Players such as Mark McGwire, Sammy Sosa, and Barry Bonds used these Performance Enhancing Drugs (PEDs) to lead the league in homeruns for many years. 
                    Many other players were found to have used steroids during this era as well, which explains the increase in homeruns during the time period of 1995 to 2005. 
                    The number of homeruns seems to drop after this period, due to the MLB cracking down on the use of PEDs, but there now exist a spike like no other in homeruns occuring within the past couple of years. 
                    What's causing this? It can't be steroid use due to the increase in regulatory measures. 
                    This phenomena has lead many players to believe that the creation of baseballs have changed in order to increase the number of homeruns and thus make the game more popular amongst fans. 
                    Homeruns are exciting, but is the MLB really juicing the baseballs in order to make the sport more exciting? 
                    Or have players mindset at the plate changed over the years, to the point where they are swinging for the fences rather than swinging for contact? 
                    Let's look further into this by looking at the leagues batting averages over the past 35 years.  
                </p>
            </div>
        </div>
    </body>
</html>
